# .gitignore 配置说明

## 概述

本项目的 `.gitignore` 文件已经配置完善，涵盖了 Java/Maven 项目开发中常见的需要忽略的文件和目录。

## 主要忽略的内容

### 1. Java & Maven 相关
- **编译文件**：`*.class`
- **打包文件**：`*.jar`, `*.war`, `*.ear` 等
- **构建目录**：`target/`
- **Maven 配置**：各种 Maven 备份和临时文件

### 2. IDE 配置文件

#### IntelliJ IDEA
- `.idea/` - IDEA 项目配置目录
- `*.iml` - IDEA 模块文件
- `*.iws`, `*.ipr` - IDEA 工作空间文件

#### Eclipse
- `.project`, `.classpath` - Eclipse 项目配置
- `.settings/` - Eclipse 设置目录
- `bin/` - Eclipse 编译输出目录

#### VS Code
- `.vscode/` - VS Code 配置目录
- `*.code-workspace` - VS Code 工作空间文件

### 3. 日志文件
- `*.log` - 所有日志文件
- `LOG_FILE_NAME_IS_UNDEFINED` - 未定义日志文件名的日志
- `logs/` - 日志目录

### 4. 操作系统文件

#### macOS
- `.DS_Store` - Finder 配置文件
- `.AppleDouble`, `.LSOverride` 等

#### Windows
- `Thumbs.db` - 缩略图缓存
- `Desktop.ini` - 文件夹配置

#### Linux
- `*~` - 临时文件
- `.directory` - KDE 目录配置

### 5. 数据库文件
- `*.db`, `*.mv.db` - H2 数据库文件
- `dump.rdb` - Redis 持久化文件

### 6. 安全相关
- `*.key`, `*.pem` - 密钥文件
- `*.p12`, `*.jks` - 证书和密钥库
- `.env` - 环境变量文件（包含敏感信息）

### 7. 临时文件和备份
- `temp/`, `tmp/` - 临时目录
- `*.bak`, `*.backup`, `*.old` - 备份文件
- `uploads/`, `files/` - 上传文件目录

### 8. Node.js（如果项目包含前端）
- `node_modules/` - npm 依赖
- `package-lock.json`, `yarn.lock` - 依赖锁文件

## 已从 Git 追踪中移除的文件

执行以下命令已将不应该被追踪的文件从暂存区移除：

```bash
git reset HEAD .idea/
git reset HEAD fly-common/target/
git reset HEAD flyadmin.iml
git reset HEAD LOG_FILE_NAME_IS_UNDEFINED
```

## 注意事项

### 配置文件处理

默认情况下，配置文件（如 `application-dev.yml`、`application-prod.yml`）**不会被忽略**，因为它们通常需要在团队中共享。

如果配置文件包含敏感信息（如数据库密码、API 密钥等），建议：

1. **方案一：使用环境变量**
   ```yaml
   spring:
     datasource:
       password: ${DB_PASSWORD}
   ```

2. **方案二：创建本地配置文件**
   - 在 `.gitignore` 中添加：
     ```
     application-local.yml
     application-*.local.yml
     ```
   - 在本地使用 `application-local.yml` 覆盖配置

3. **方案三：忽略特定环境配置**
   - 如果需要忽略生产环境配置，在 `.gitignore` 中取消注释：
     ```
     # application-prod.yml
     ```

### 清理已提交的文件

如果某些文件已经被提交到 Git 仓库，但现在想要忽略它们：

```bash
# 从 Git 追踪中移除，但保留本地文件
git rm --cached <file>

# 从 Git 追踪中移除整个目录
git rm -r --cached <directory>

# 示例：移除 .idea 目录
git rm -r --cached .idea/

# 提交更改
git commit -m "Remove ignored files from Git tracking"
```

### 查看被忽略的文件

```bash
# 查看所有被忽略的文件
git status --ignored

# 查看某个文件是否被忽略
git check-ignore -v <file>
```

## 自定义配置

如果需要添加项目特定的忽略规则，可以直接编辑 `.gitignore` 文件，在 `Application Specific` 部分添加。

## 最佳实践

1. ✅ **只提交源代码**：不要提交编译产物、依赖包、IDE 配置等
2. ✅ **保护敏感信息**：密码、密钥、证书等绝不提交到 Git
3. ✅ **团队协作**：确保团队成员都使用相同的 `.gitignore` 配置
4. ✅ **定期检查**：定期运行 `git status --ignored` 检查是否有遗漏
5. ✅ **文档化**：在 README 中说明特殊的配置需求

## 参考资源

- [GitHub .gitignore 模板](https://github.com/github/gitignore)
- [gitignore.io](https://www.toptal.com/developers/gitignore) - 在线生成 .gitignore
- [Git 官方文档 - gitignore](https://git-scm.com/docs/gitignore)
